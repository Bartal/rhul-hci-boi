<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="Style/jquery-ui.css">

    <script src="Script/jquery-1.10.2.js"></script>
    <script src="Script/jquery.mobile-1.4.5.min.js"></script>
    <script src="Script/jquery-ui.js"></script>

    <link href="Style/bootstra.386-latest-v3/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="Style/bootstra.386-latest-v3/bootstrap/css/bootstrap-theme.min.css" rel="stylesheet">
    <script src="Style/bootstra.386-latest-v3/dist/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="Style/bootstrap-3-vert-offset-shim.css">

    <script src="Script/wheelnav/wheelnav.min.js"></script>
    <script src="Script/wheelnav/raphael.icons.min.js"></script>
    <script src="Script/wheelnav/raphael.min.js"></script>

    <script src="Script/util.js"></script>

    <script>
        $(document).ready(function () {
            renderWheel();
            //$('#wheelDiv').hide();
            $("#spiltMessageTextEditor").attr('contenteditable', 'true');
            $('#messageBord').on('click', '.list-group-item', function () {
                $(this).toggleClass('active');
            });
            createSortableListsOnJoin();
            $('#sendMessage').click(sendMessageButtonHandler);
            $("#joinMessage").click(openJoinMessage);
            //('body').mousedown(bodyMouseHandler);
            $('#messageInput').keyup(inputKeybordHandler);
            $('#spiltMessageTextEditor').keyup(updateSplitMessage);
            $('#randomNumber').click(addRandonNumber);
            $("#addHash").click(addHash);
        });


    </script>


    <script>
        var BYOI = {}; //api object
        /*
         API:
         methods:
         addChecksum: ()
         addMessage: ()
         addRandomNumber: ()
         combineMessages: ()
         decryptMessage: (key)
         deleteMessages: ()
         encryptMessage: (key)
         moveMessagesDown: ()
         moveMessagesUp: ()
         sendMessage: ()
         splitMessages: (len)
         verifyChecksum: ()
         properties:
         connection
         myName
         myNode
         mySession
         */
    </script>
    <!-- include all the button handlers and websocket connection -->
    <script src="js/connection.js"></script>
    <script src="js/add.js"></script>
    <script src="js/combination.js"></script>
    <script src="js/encryption.js"></script>
    <script src="js/message-handler.js"></script>
    <script src="js/move.js"></script>
    <script src="js/send.js"></script>
    <!-- minimal stylesheet -->
    <link rel="stylesheet" type="text/css" href="css/style.css">


    <style>
        .row {
            display: -webkit-box;
            display: -webkit-flex;
            display: -ms-flexbox;
            display: flex;
            flex-wrap: wrap;
        }

        .row > [class*='col-'] {
            display: flex;
            flex-direction: column;
        }

        .container > .modal-dialog {
            width: inherit;
        }

        #spiltMessageTextEditor {
            word-break: break-all;
        }

        .input-group-btn {
            font-size: inherit;
        }

        .ui-loading .ui-loader {
            display: block;
        }

        .ui-loader {
            display: none;
            position: absolute;
            opacity: .85;
            z-index: 100;
            left: 50%;
            width: 200px;
            margin-left: -130px;
            margin-top: -35px;
            padding: 10px 30px;
        }

        .list-group-item {
            border-bottom: 1px solid black;
            padding-top: 10px;
            padding-bottom: 10px;
        }

        .list-group-item:last-child {
            border-bottom: none;
        }

        .list-group-item-heading {
            font-size: 125%;
        }

        .list-group-item-text {
            font-size: 90%;
        }
    </style>
</head>
<body oncontextmenu="return false;">

<div class="container-fluid">
    <div class="row">
        <div class="col-xs-12">
            <div class="text-center text-capitalize h3"
                 style="font-family: Century Gothic, sans-serif; font-weight:bold;">
                Build you own internet
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12">
            <div class="jumbotron">
                <div class="text-center h2">
                    This is the server messages<br>
                    You have the task is to send an message to 12
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-5 vert-offset-top-2">
            <div id="wheelDiv" style="height:100%; z-index: 1000;"
                 data-wheelnav-wheelradius="100"
                 data-wheelnav-navangle="90"
                 data-wheelnav-slicepath="DonutSlice"
                 data-wheelnav-colors="#E34C26,#F06529"
                 data-wheelnav-rotateoff>
            </div>
        </div>
        <div class="col-xs-7 vert-offset-top-2">
            <div class="list-group" id="messageBord" style="max-height: 60vh; overflow-y:scroll;">
                <a href="#" class="list-group-item">
                    <h2 class="list-group-item-heading">Lorem ipsum dolor sit amet, consectetur
                        adipiscing volutpat.</h2>
                    <p class="list-group-item-text">send to 12, 13, ..., 17, 20 min ago</p>
                </a>
                <a href="#" class="list-group-item">
                    <h2 class="list-group-item-heading">Lorem ipsum dolor sit amet, consectetur
                        adipiscing volutpat.</h2>
                    <p class="list-group-item-text">send to 12, 13, ..., 17, 20 min ago</p>
                </a>
                <a href="#" class="list-group-item text-right list-group-item-error">
                    <h2 class="list-group-item-heading">Lorem ipsum dolor sit amet, consectetur
                        adipiscing volutpat.</h2>
                    <span class="list-group-item-text">reciverd message from 2, 20 min ago
                    </span>
                </a><a href="#" class="list-group-item">
                <h2 class="list-group-item-heading">Lorem ipsum dolor sit amet, consectetur
                    adipiscing volutpat.</h2>
                <p class="list-group-item-text">send to 12, 13, ..., 17, 20 min ago</p>
            </a>
                <a href="#" class="list-group-item">
                    <h2 class="list-group-item-heading">Lorem ipsum dolor sit amet, consectetur
                        adipiscing volutpat.</h2>
                    <p class="list-group-item-text">send to 12, 13, ..., 17, 20 min ago</p>
                </a>
                <a href="#" class="list-group-item text-right list-group-item-error">
                    <h2 class="list-group-item-heading">Lorem ipsum dolor sit amet, consectetur
                        adipiscing volutpat.</h2>
                    <span class="list-group-item-text">reciverd message from 2, 20 min ago
                    </span>
                </a><a href="#" class="list-group-item">
                <h2 class="list-group-item-heading">Lorem ipsum dolor sit amet, consectetur
                    adipiscing volutpat.</h2>
                <p class="list-group-item-text">send to 12, 13, ..., 17, 20 min ago</p>
            </a>
                <a href="#" class="list-group-item">
                    <h2 class="list-group-item-heading">Lorem ipsum dolor sit amet, consectetur
                        adipiscing volutpat.</h2>
                    <p class="list-group-item-text">send to 12, 13, ..., 17, 20 min ago</p>
                </a>
                <a href="#" class="list-group-item text-right list-group-item-error">
                    <h2 class="list-group-item-heading">Lorem ipsum dolor sit amet, consectetur
                        adipiscing volutpat.</h2>
                    <span class="list-group-item-text">reciverd message from 2, 20 min ago
                    </span>
                </a><a href="#" class="list-group-item">
                <h2 class="list-group-item-heading">Lorem ipsum dolor sit amet, consectetur
                    adipiscing volutpat.</h2>
                <p class="list-group-item-text">send to 12, 13, ..., 17, 20 min ago</p>
            </a>
                <a href="#" class="list-group-item">
                    <h2 class="list-group-item-heading">Lorem ipsum dolor sit amet, consectetur
                        adipiscing volutpat.</h2>
                    <p class="list-group-item-text">send to 12, 13, ..., 17, 20 min ago</p>
                </a>
                <a href="#" class="list-group-item text-right list-group-item-error">
                    <h2 class="list-group-item-heading">Lorem ipsum dolor sit amet, consectetur
                        adipiscing volutpat.</h2>
                    <span class="list-group-item-text">reciverd message from 2, 20 min ago
                    </span>
                </a><a href="#" class="list-group-item">
                <h2 class="list-group-item-heading">Lorem ipsum dolor sit amet, consectetur
                    adipiscing volutpat.</h2>
                <p class="list-group-item-text">send to 12, 13, ..., 17, 20 min ago</p>
            </a>
                <a href="#" class="list-group-item">
                    <h2 class="list-group-item-heading">Lorem ipsum dolor sit amet, consectetur
                        adipiscing volutpat.</h2>
                    <p class="list-group-item-text">send to 12, 13, ..., 17, 20 min ago</p>
                </a>
                <a href="#" class="list-group-item text-right list-group-item-error">
                    <h2 class="list-group-item-heading">Lorem ipsum dolor sit amet, consectetur
                        adipiscing volutpat.</h2>
                    <span class="list-group-item-text">reciverd message from 2, 20 min ago
                    </span>
                </a><a href="#" class="list-group-item">
                <h2 class="list-group-item-heading">Lorem ipsum dolor sit amet, consectetur
                    adipiscing volutpat.</h2>
                <p class="list-group-item-text">send to 12, 13, ..., 17, 20 min ago</p>
            </a>
                <a href="#" class="list-group-item">
                    <h2 class="list-group-item-heading">Lorem ipsum dolor sit amet, consectetur
                        adipiscing volutpat.</h2>
                    <p class="list-group-item-text">send to 12, 13, ..., 17, 20 min ago</p>
                </a>
                <a href="#" class="list-group-item text-right list-group-item-error">
                    <h2 class="list-group-item-heading">Lorem ipsum dolor sit amet, consectetur
                        adipiscing volutpat.</h2>
                    <span class="list-group-item-text">reciverd message from 2, 20 min ago
                    </span>
                </a>
            </div>
        </div>
    </div>
    <form class="form-horizontal">
        <div class="form-group">
            <div class="col-xs-1 col-xs-offset-5">
                <select class="form-control" data-role="none">
                    <option value="0">send to all</option>
                    <option value="1">send to node 1</option>
                    <option value="2">send to node 2</option>
                </select>
            </div>
            <div class="col-xs-4">
                <input type="text" id="messageInput" name="messageInput" class="form-control"
                       placeholder="Send message ...">
            </div>
            <div class="col-xs-2">
                <button class="btn btn-default send form-control" id="sendMessage" type="button">send message!
                </button>
            </div>
        </div>
    </form>
</div>

<div class="modal fade" tabindex="-1" id="joinModal" role="dialog" aria-labelledby="gridSystemModalLabel">
    <div class="container">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="gridSystemModalLabel">Join menu</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="text-center h3">Joining to getter</div>
                            <div class="list-group " id="toJoin" style="max-height: 40vh; overflow-y:scroll;">
                            </div>
                        </div>

                        <div class="col-lg-6">
                            <div class="text-center h3">Avalibalbe to join</div>
                            <div class="list-group" id="avalibleToJoin" style="max-height: 40vh; overflow-y:scroll;">

                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Save changes</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div>
</div><!-- /.modal -->


<div class="modal fade" tabindex="-1" id="splitModal" role="dialog" aria-labelledby="splitSystemModalLabel">
    <div class="container">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="splitSystemModalLabel">Split menu</h4><br>
                    <div>The message will be split on the red line in the messagers</div>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div id="spiltMessageTextEditor" class="editable"
                             style="height:300px; max-width: 100%; word-wrap: break-word;overflow-x: hidden;">
                            testing :D
                        </div>
                    </div>
                    <input type="hidden" name="messageSplitSend"/>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Send messages</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div>
</div><!-- /.modal -->


</body>
</html>